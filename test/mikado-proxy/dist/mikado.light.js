/**!
 * Mikado.js v0.8.118 (Light)
 * Copyright 2019-2024 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var m;Object.create(null);Object.create(null);function r(a,c,b){const d=c.length,f=[],k={};for(let g=0,l,t,n,q,p,u=null;g<d;g++){l=c[g];if(t=l.v){if(q=n=k[t],!q){let x=void 0;var e=a,h=t;for(let A=0,w=h.length,v="";A<w;A++){const B=h[A];v+=B;k[v]?e=k[v]:(">"===B?e=e.firstChild:"|"===B?(x=e,e=e.firstChild):"@"===B?(x=e,e=e.style):e=e.nextSibling,k[v]=e)}n=[e,x];q=n[0];n=n[1]||q}}else q=n=a;b&&p!==n&&(p=n,n._mkc=u={});f[g]=new y(u,q,"")}return a._mkp=f}
function z(a,c,b,d,f,k){const e=d||(a.tag?document.createElement(a.tag):document.createTextNode(a.text));let h,g;if(g=a.class)"object"===typeof g?h||c.push(new y(h={},e,b)):d||(e.className=g);if(g=a.attr)for(const l in g){let t=g[l];"object"===typeof t?h||c.push(new y(h={},e,b)):d||e.setAttribute(l,t)}if(g=a.event)for(const l in g)d||e.setAttribute(l,g[l]);if(g=a.style)"object"===typeof g?c.push(new y(h||(h={}),e.style,b+"@")):d||(e.style.cssText=g);if(g=a.text)"object"===typeof g?(f=e,g=g[0],a.tag?
(b+="|",f=!d&&e.firstChild,f||(f=document.createTextNode(g),e.appendChild(f),(h||(h={}))._t=g)):h={_t:g},c.push(new y(h||(h={}),f,b))):d||(a.tag?e.textContent=g:e.nodeValue=g);else if(g=a.child){d&&(d=d.firstChild);g.constructor!==Array&&(g=[g]);for(let l=0,t,n=g.length;l<n;l++)t=g[l],b=l?b+"+":b+">",a=z(t,c,b,d,f,1),d?l<n-1&&(d=d.nextSibling):e.appendChild(a)}else if(g=a.html)"object"===typeof g?h||c.push(new y(h={},e,b)):d||(e.innerHTML=g);else if(g=a.inc)h||c.push(new y(null,e,b)),"string"===typeof g?
(d=C[g],d instanceof D||(b=d[0],(d=d[1])&&(d.async=!1),C[g]=d=new D(b,d))):d=new D({name:f.name+"|"+f.inc.length,tpl:g,key:g.key,cache:g.cache,fn:f.tpl.o},{recycle:f.recycle,cache:f.cache,pool:f.pool,view:f.view,mount:e,hydrate:!!d}),f.inc.push(d);h&&(e._mkc=h);k||(e._mkp=c);return e}function y(a,c,b){this.c=a;this.n=c;this.v=b}m=y.prototype;m._a=function(a,c){if(this.c){if(this.c["_a"+a]===c)return;this.c["_a"+a]=c}!1!==c?this.n.setAttribute(a,c):this.n.removeAttribute(a)};
m._t=function(a){if(this.c){if(this.c._t===a)return;this.c._t=a}this.n.nodeValue=a};m._c=function(a){if(this.c){if(this.c._c===a)return;this.c._c=a}this.n.className=a};m._s=function(a){if(this.c){if(this.c._s===a)return;this.c._s=a}this.n.cssText=a};m._h=function(a){if(this.c){if(this.c._h===a)return;this.c._h=a}this.n.innerHTML=a};const C=Object.create(null);
function D(a,c={}){if(!(this instanceof D))return new D(a,c);if("string"===typeof a){var b=C[a];if(b instanceof D)return b;a=b[0];c||(c=b[1])}this.g=[];this.length=0;this.root=c.root||c.mount||null;this.recycle=!!c.recycle;this.view=c.view||{};this.key=a.key||"";this.i={};this.apply=(b=a.fn)&&b.pop();this.tpl=a.tpl;this.name=a.name;this.inc=[];a.tpl.o=b;this.pool=(this.key||this.recycle)&&c.pool||0;this.m=[];this.j={};this.l=0;this.cache=a.cache||!!c.cache;this.root?this.mount(this.root,c.hydrate):
this.h=null}m=D.prototype;
m.mount=function(a,c){const b=a._mki;var d=this.root!==a;if(b===this){if(!d)return this;this.g=a._mkd;this.length=this.g.length}else if(b)b.clear(),a._mkd=this.g=[],this.length=0;else{if(c){var f=a.children;const k=f.length,e=[];for(let h=0;h<k;h++)e[h]=f[h];this.g=e;this.length=this.g.length}else this.g=[],this.length=0,a.firstChild&&(a.textContent="");a._mkd=this.g}if(this.key)if(d&&this.root&&(this.root._mkl=this.i),b===this)this.i=a._mkl;else{d={};if(!b&&c&&this.length)for(let k=0,e,h;k<this.length;k++)e=
this.g[k],h=e.getAttribute("key"),e._mkk=h,d[h]=e;a._mkl=this.i=d}a._mki=this;this.root=a;this.h||(c&&this.length?(this.h=this.g[0].cloneNode(),z(this.tpl,[],"",this.h,this)):this.h=z(this.tpl,[],"",null,this),this.tpl=null);return this};
m.render=function(a,c){let b=this.length;if(!a)return this.apply||this.g[0]||this.add(),this;let d;if(Array.isArray(a)){if(d=a.length,!d)return this.remove(0,b)}else a=[a],d=1;const f=this.key;!b||f||this.recycle||(this.remove(0,b),b=0);let k=b<d?b:d,e=0;if(e<k)for(let h,g;e<k;e++){h=this.g[e];g=a[e];if(f&&h._mkk!==g[f])return this.reconcile(a,c,e,1);this.update(h,g,c,e,1)}if(e<d)for(;e<d;e++)this.add(a[e],c,e);else d<b&&this.remove(d,b-d);return this};
m.replace=function(a,c,b,d){"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.g[d]):d=this.index(a));var f;if(this.key){var k=c[this.key];(f=this.i[k])?f!==a&&(k=this.index(f),this.g[d]=f,this.g[k]=a,k<d&&(k=a,a=f,f=k),k=a.nextElementSibling,this.root.insertBefore(a,f),k!==f&&this.root.insertBefore(f,k)):this.pool&&(f=this.j[k])&&(this.j[k]=null,this.l--,E(this,a),this.root.replaceChild(f,a),this.g[d]=f)}else this.recycle&&(f=a);f?!this.apply||this.apply(c,b||this.view,d,f._mkp||r(f,this.h._mkp,
this.cache)):(c=this.create(c,b,d,1),(this.key||this.pool)&&E(this,a),this.root.replaceChild(c,a),this.g[d]=c);return this};m.update=function(a,c,b,d){if(!this.apply)return this;"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.g[a]):d=this.index(a));this.apply(c,b||this.view,d,a._mkp||r(a,this.h._mkp,this.cache));return this};
m.create=function(a,c,b,d){let f=this.key;const k=f&&a[f];let e,h,g,l;f&&this.pool&&(h=this.j)&&(e=h[k])?(l=1,h[k]=null,this.l--):(!f||this.recycle)&&this.pool&&(h=this.m)&&h.length?e=h.pop():e=g=this.h;this.apply&&this.apply(a,c||this.view,b,e._mkp||r(e,this.h._mkp,!!g||this.cache));g&&(e=e.cloneNode(!0));f&&(l||(e._mkk=k),d&&(this.i[k]=e));return e};
m.add=function(a,c,b){let d;"number"===typeof c?(b=c,c=null,d=b<this.length):b||0===b?d=b<this.length:b=this.length;a=this.create(a,c,b,1);d?(this.root.insertBefore(a,this.g[b]),F(this.g,this.length-1,b,a),this.length++):(this.root.appendChild(a),this.g[this.length++]=a);return this};
m.reconcile=function(a,c,b,d){const f=this.g,k=this.i,e=this.key;let h=a.length,g=f.length,l=g>h?g:h,t=0;for(b||(b=0);b<l;b++){var n=void 0;if(b<h){var q=a[b],p=b>=g;let u,x,A;if(!p&&(u=f[b],x=q[e],A=u._mkk,A===x)){d&&this.update(u,q,c,b,1);continue}if(p||!k[x]){d&&(p||!this.pool?(g++,l=g>h?g:h,this.add(q,c,b)):this.replace(u,q,c,b));continue}let w,v;for(p=b+1;p<l;p++)if(!w&&p<g&&f[p]._mkk===x&&(w=p+1),!v&&p<h&&a[p][e]===A&&(v=p+1),w&&v){w>=v?(n=f[w-1],this.root.insertBefore(n,u),d&&this.update(n,
q,c,b,1),w===v?(1<p-b&&this.root.insertBefore(u,f[w]),f[b]=f[p],f[p]=u):(F(f,w-1,b),t++)):(q=v-1+t,this.root.insertBefore(u,f[q]||null),F(f,b,(q>g?g:q)-1),t--,b--);n=1;break}}n||(this.remove(b),g--,l=g>h?g:h,b--)}return this};function F(a,c,b,d){const f=d||a[c];d&&c++;if(c<b)for(;c<b;c++)a[c]=a[c+1];else for(;c>b;c--)a[c]=a[c-1];a[b]=f}m.append=function(a,c,b){let d;if("number"===typeof c)b=c,c=null,d=1;else if(b||0===b)d=1;const f=a.length;for(let k=0;k<f;k++)this.add(a[k],c,d?b++:null);return this};
m.clear=function(){this.length&&this.remove(0,this.length);return this};m.remove=function(a,c){let b=this.length;b&&a&&("number"!==typeof a?a=this.index(a):0>a&&(a=b+a-1));if(!b||a>=b)return this;c?0>c&&(a-=c+1,0>a&&(a=0),c*=-1):c=1;!a&&c>=b?(a=this.g,c=a.length,this.root.textContent="",this.root._mkd=this.g=[],b=0):(a=this.g.splice(a,c),b-=c);const d=this.pool&&!this.key,f=this.key||this.pool;for(let k=0,e;k<c;k++)e=a[d?c-k-1:k],b&&e.remove(),f&&E(this,e);this.length=b;return this};m.index=function(a){return this.g.indexOf(a)};
m.node=function(a){return this.g[a]};function E(a,c){if(a.key){var b=c._mkk;a.i[b]=null}if(a.pool)if(a.key){if(!0===a.pool||a.l<a.pool)a.j[b]=c,a.l++}else if(b=a.m.length,!0===a.pool||b<a.pool)a.m[b]=c}m.destroy=function(){for(let a=0,c;a<this.inc.length;a++)c=this.inc[a],C[c.name]||c.destroy();this.key&&(this.root&&(this.root._mkl=null),this.i=null);this.root&&(this.root._mkd=this.root._mki=null);this.j=this.m=this.g=this.root=this.tpl=this.apply=this.inc=this.view=this.h=null};document.createElement("div").appendChild(document.createTextNode(""));D.register=function(a,c){let b;"string"===typeof a?(b=a,a=C[b],a instanceof D||(a=a[0])):b=a.name;C[b]=[a,c];return D};D.unregister=function(a){"object"===typeof a&&(a=a.name);const c=C[a];c&&(c instanceof D&&c.destroy(),C[a]=null);return D};const G=window;let H;(H=G.define)&&H.amd?H([],function(){return D}):"object"===typeof G.exports?G.module.exports=D:G.Mikado=D;}).call(this);
