!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).stage0=e.stage0||{})}(this,function(e){"use strict";var i=function(e,i){};function r(e,r,o,t,f){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i,v=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;if(0!==t.length)if(0!==o.length){var d,s,h=0,g=0,u=!0,p=o.length-1,b=t.length-1,C=v?v.nextSibling:r.firstChild,x=C,S=a?a.previousSibling:r.lastChild;e:for(;u;){u=!1;var c=void 0;for(d=o[h],s=t[g];d[e]===s[e];){if(l(C,s),h++,g++,x=C=C.nextSibling,p<h||b<g)break e;d=o[h],s=t[g]}for(d=o[p],s=t[b];d[e]===s[e];){if(l(S,s),p--,b--,a=S,S=S.previousSibling,p<h||b<g)break e;d=o[p],s=t[b]}for(d=o[p],s=t[g];d[e]===s[e];){if(u=!0,l(S,s),c=S.previousSibling,r.insertBefore(S,x),S=c,g++,--p<h||b<g)break e;d=o[p],s=t[g]}for(d=o[h],s=t[b];d[e]===s[e];){if(u=!0,l(C,s),c=C.nextSibling,r.insertBefore(C,a),a=C,C=c,b--,p<++h||b<g)break e;d=o[h],s=t[b]}}if(b<g){if(h<=p)for(var m;h<=p;)0===p?r.removeChild(S):(m=S.previousSibling,r.removeChild(S),S=m),p--}else if(p<h){if(g<=b)for(var y,B=a?1:0;g<=b;)y=f(t[g]),B?r.insertBefore(y,a):r.appendChild(y),g++}else{for(var k=new Array(b+1-g),w=g;w<=b;w++)k[w]=-1;for(var M=new Map,j=g;j<=b;j++)M.set(t[j][e],j);for(var A=g+t.length-1-b,_=[],O=h;O<=p;O++)M.has(o[O][e])?(k[M.get(o[O][e])]=O,A++):_.push(O);if(0!==A){for(var P=function(e,i){for(var r=[],o=[],t=-1,f=new Array(e.length),l=i,v=e.length;l<v;l++){var a=e[l];if(!(a<0)){var d=n(r,a);-1!==d&&(f[l]=o[d]),d===t?(r[++t]=a,o[t]=l):a<r[d+1]&&(r[d+1]=a,o[d+1]=l)}}for(l=o[t];t>=0;l=f[l],t--)r[t]=l;return r}(k,g),q=[],z=C,D=h;D<=p;D++)q[D]=z,z=z.nextSibling;for(var E=0;E<_.length;E++)r.removeChild(q[_[E]]);for(var F,G=P.length-1,H=b;H>=g;H--)P[G]===H?(l(a=q[k[P[G]]],t[H]),G--):(-1===k[H]?F=f(t[H]):l(F=q[k[H]],t[H]),r.insertBefore(F,a),a=F)}else{if(void 0!==v||void 0!==a){var I,J=void 0!==v?v.nextSibling:r.firstChild;for(void 0===a&&(a=null);J!==a;)I=J.nextSibling,r.removeChild(J),J=I,h++}else r.textContent="";for(var K,L=a?1:0,N=g;N<=b;N++)K=f(t[N]),L?r.insertBefore(K,a):r.appendChild(K)}}}else for(var Q,R=void 0!==a?1:0,T=0,U=t.length;T<U;T++)Q=f(t[T]),R?r.insertBefore(Q,a):r.appendChild(Q);else if(void 0!==v||void 0!==a){var V,W=void 0!==v?v.nextSibling:r.firstChild;for(void 0===a&&(a=null);W!==a;)V=W.nextSibling,r.removeChild(W),W=V}else r.textContent=""}function n(e,i){var r=-1,n=e.length;if(n>0&&e[n-1]<=i)return n-1;for(;n-r>1;){var o=Math.floor((r+n)/2);e[o]>i?n=o:r=o}return r}e.default=r,e.keyed=r,Object.defineProperty(e,"__esModule",{value:!0})});
