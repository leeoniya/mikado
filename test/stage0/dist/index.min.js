!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).stage0=e.stage0||{})}(this,function(e){"use strict";function t(e){if(3!==e.nodeType){if(void 0!==e.attributes)for(var t=0,r=Array.from(e.attributes);t<r.length;t++){var n=r[t].name;if("#"===n[0])return e.removeAttribute(n),n.slice(1)}return 0}var o=e.nodeValue;return"#"===o[0]?(e.nodeValue="",o.slice(1)):0}var r=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1);r.roll=function(e){for(;--e;)this.nextNode();return this.currentNode};var n=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.idx=t,this.ref=r};function o(e){var t={},n=r;return n.currentNode=e,this._refPaths.map(function(e){return t[e.ref]=n.roll(e.idx)}),t}function i(e){e._refPaths=function(e){var o=r;o.currentNode=e;var i,a=[],c=0;do{(i=t(e))?(a.push(new n(c+1,i)),c=1):c++}while(e=o.nextNode());return a}(e),e.collect=o}var a=document.createElement("template");function c(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=String.raw.apply(String,[e].concat(r)).replace(/>\n+/g,">").replace(/\s+</g,"<").replace(/>\s+/g,">").replace(/\n\s+/g,"\x3c!-- --\x3e");a.innerHTML=o;var c=a.content.firstChild;return i(c),c}e.compile=i,e.default=c,e.h=c,Object.defineProperty(e,"__esModule",{value:!0})});
