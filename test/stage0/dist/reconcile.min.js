!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).stage0=e.stage0||{})}(this,function(e){"use strict";var i=function(e,i){};function r(e,r,o,t){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i,l=arguments.length>5?arguments[5]:void 0,v=arguments.length>6?arguments[6]:void 0;if(0!==o.length)if(0!==r.length){var a,d,s=0,h=0,g=!0,u=r.length-1,p=o.length-1,b=l?l.nextSibling:e.firstChild,C=b,x=v?v.previousSibling:e.lastChild;e:for(;g;){g=!1;var c=void 0;for(a=r[s],d=o[h];a===d;){if(f(b,d),s++,h++,C=b=b.nextSibling,u<s||p<h)break e;a=r[s],d=o[h]}for(a=r[u],d=o[p];a===d;){if(f(x,d),u--,p--,v=x,x=x.previousSibling,u<s||p<h)break e;a=r[u],d=o[p]}for(a=r[u],d=o[h];a===d;){if(g=!0,f(x,d),c=x.previousSibling,e.insertBefore(x,C),x=c,h++,--u<s||p<h)break e;a=r[u],d=o[h]}for(a=r[s],d=o[p];a===d;){if(g=!0,f(b,d),c=b.nextSibling,e.insertBefore(b,v),v=b,b=c,p--,u<++s||p<h)break e;a=r[s],d=o[p]}}if(p<h){if(s<=u)for(var S;s<=u;)0===u?e.removeChild(x):(S=x.previousSibling,e.removeChild(x),x=S),u--}else if(u<s){if(h<=p)for(var m,y=v?1:0;h<=p;)m=t(o[h]),y?e.insertBefore(m,v):e.appendChild(m),h++}else{for(var B=new Array(p+1-h),k=h;k<=p;k++)B[k]=-1;for(var w=new Map,M=h;M<=p;M++)w.set(o[M],M);for(var j=h+o.length-1-p,A=[],_=s;_<=u;_++)w.has(r[_])?(B[w.get(r[_])]=_,j++):A.push(_);if(0!==j){for(var O=function(e,i){for(var r=[],o=[],t=-1,f=new Array(e.length),l=i,v=e.length;l<v;l++){var a=e[l];if(!(a<0)){var d=n(r,a);-1!==d&&(f[l]=o[d]),d===t?(r[++t]=a,o[t]=l):a<r[d+1]&&(r[d+1]=a,o[d+1]=l)}}for(l=o[t];t>=0;l=f[l],t--)r[t]=l;return r}(B,h),P=[],q=b,z=s;z<=u;z++)P[z]=q,q=q.nextSibling;for(var D=0;D<A.length;D++)e.removeChild(P[A[D]]);for(var E,F=O.length-1,G=p;G>=h;G--)O[F]===G?(f(v=P[B[O[F]]],o[G]),F--):(-1===B[G]?E=t(o[G]):f(E=P[B[G]],o[G]),e.insertBefore(E,v),v=E)}else{if(void 0!==l||void 0!==v){var H,I=void 0!==l?l.nextSibling:e.firstChild;for(void 0===v&&(v=null);I!==v;)H=I.nextSibling,e.removeChild(I),I=H,s++}else e.textContent="";for(var J,K=v?1:0,L=h;L<=p;L++)J=t(o[L]),K?e.insertBefore(J,v):e.appendChild(J)}}}else for(var N,Q=void 0!==v?1:0,R=0,T=o.length;R<T;R++)N=t(o[R]),Q?e.insertBefore(N,v):e.appendChild(N);else if(void 0!==l||void 0!==v){var U,V=void 0!==l?l.nextSibling:e.firstChild;for(void 0===v&&(v=null);V!==v;)U=V.nextSibling,e.removeChild(V),V=U}else e.textContent=""}function n(e,i){var r=-1,n=e.length;if(n>0&&e[n-1]<=i)return n-1;for(;n-r>1;){var o=Math.floor((r+n)/2);e[o]>i?n=o:r=o}return r}e.default=r,e.reconcile=r,Object.defineProperty(e,"__esModule",{value:!0})});
